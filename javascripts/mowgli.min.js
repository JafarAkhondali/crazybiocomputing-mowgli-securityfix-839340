/*! mowgli 2016-04-05 */
"use strict";function Alert(a){document.querySelector("#alert header #body").innerHTML="<p>Alert!!</p>";var b=document.querySelector("#alert article");b.innerHTML="<p>"+a+"</p>",document.getElementById("alert").classList.toggle("alert_target")}function Modal(a){var b=document.querySelector(".mwModal .modal-header");b.style.backgroundImage=a.headerImage||'url("images/default-background.jpg")',document.querySelector(".mwModal .modal-header h2").innerHTML=a.headerTitle||"Modal window";var c=document.querySelector(".mwModal .modal-body");c.innerHTML=a.body||"<p>No information</p>",c.style.fontSize=a.fontSize||"1.1em",c.style.fontFamily=a.fontFamily||"Lato",document.querySelector(".mwModal #modal-one").checked=!0}!function(a){a.alert=function(a){document.querySelector(".alert .modal-header h2").innerHTML="MOWGLI: Info",document.querySelector(".alert .modal-body").innerHTML="<p>"+a+"</p>",document.querySelector(".alert #modal-alert").checked=!0},a.structure=void 0}(this.MOWGLI={}),window.onload=function(){new mwGUI.Sample("1zni"),new mwGUI.Sample("3cro"),new mwGUI.SaveAs("export"),new mwGUI.Fasta("fasta"),new mwGUI.Phipsi("phipsi");console.log("Add event click on About...");new mwGUI.About("about")},function(a){function b(a){this.element=document.getElementById(a),this.handleEvent=function(c){switch(console.log(a),c.type){case"click":new Modal({headerTitle:"About Mowgli...",headerImage:"url('images/headprot.jpg')",body:b.reduce(function(a,b,c,d){return a+b})});break;case"dblclick":}},this.element.addEventListener("click",this,!1),this.element.addEventListener("dblclick",this,!1);var b=["<p>MOWGLI &mdash; <b>MO</b>lecule <b>W</b>eb<b>GL</b> & <b>I</b>mage viewer &mdash; ","is a collaborative project developed by students of the Master of Science in Bioinformatics, Bordeaux ",'during the course "Structural Bioinformatics". </p>',"<p>Maintained and supervised by Jean-Christophe Taveau</a></p>","<h3>Contributors</h3>","<h4>Promotion 2014</h4>","<p>Nullam at enim at nibh mollis feugiat ac nec lorem. Mauris eu ornare erat. Integer facilisis aliquet leo a iaculis. </p>","<h4>Promotion 2015</h4>","<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. In lobortis orci vel velit rutrum, a dapibus nisl convallis. ","Nulla quis hendrerit dui. Lorem ipsum dolor sit amet, consectetur adipiscing elit. </p>","<h4>Promotion 2016</h4>","<p>Integer commodo faucibus dui vitae maximus. Nullam at enim at nibh mollis feugiat ac nec lorem. Mauris eu ornare erat. </p>",'<p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>']}a.About=b}(this.mwGUI=this.mwGUI||{}),function(a){function b(a){this.element=document.getElementById(a),this.handleEvent=function(b){switch(console.log(a),b.type){case"click":var c;if(MOWGLI.structure.isMolecule()){c=MOWGLI.structure.fasta();new Modal({headerTitle:"FASTA Sequence",headerImage:"url('images/headprot.jpg')",body:"<pre>"+c+"</pre>"})}else MOWGLI.alert("No FASTA sequence is available for this structure");break;case"dblclick":}},this.element.addEventListener("click",this,!1),this.element.addEventListener("dblclick",this,!1)}a.Fasta=b}(this.mwGUI=this.mwGUI||{}),function(a){function b(a){this.element=document.getElementById(a),this.handleEvent=function(b){switch(console.log(a),b.type){case"click":if(MOWGLI.structure.isMolecule()){MOWGLI.structure.calcPhiPsi();var c=MOWGLI.structure.finder("ATOM",function(a){return"CA"===a.name?!0:void 0}),d=function(a){var b='<table id="tabphi">';b+="<tr><th>Chain</th><th>Group</th><th>GroupID</th><th>Phi</th><th>Psi</th></tr>";for(var d=0;d<c.length;d++)b+="<tr><td>"+c[d].chain+"</td><td>"+c[d].group+"</td><td>"+c[d].groupID+"</td><td>"+c[d].phi+"</td><td>"+c[d].psi+"</td></tr>";return b+="</table>"},e=d(c);new Modal({headerTitle:"Phi/Psi...",headerImage:"url('images/headprot.jpg')",body:e})}else MOWGLI.alert("No Phi/Psi angles are available for this structure");break;case"dblclick":}},this.element.addEventListener("click",this,!1),this.element.addEventListener("dblclick",this,!1)}a.Phipsi=b}(this.mwGUI=this.mwGUI||{}),function(a){function b(a){this.element=document.getElementById(a),this.handleEvent=function(b){switch(console.log(a),b.type){case"click":console.log("Load JSON...");var c=new XMLHttpRequest,d="samples/1ZNI.json";switch(a){case"1zni":d="samples/1ZNI.json";break;case"1hho":d="samples/1HHO.json";break;case"3cro":d="samples/3CRO.json"}c.open("GET",d,!0),c.responseType="json",c.onreadystatechange=function(b){if(4==c.readyState)if(200==c.status){var d=c.response;MOWGLI.structure=new Molecule(d),MOWGLI.alert(a.toUpperCase()+" successfully loaded..."),console.log(MOWGLI.structure instanceof Molecule),MOWGLI.structure.calcPhiPsi()}else console.log("ERROR:: Can't download PDB file."+b.description+"\n")},c.send(null);break;case"dblclick":}},this.element.addEventListener("click",this,!1),this.element.addEventListener("dblclick",this,!1)}a.Sample=b}(this.mwGUI=this.mwGUI||{}),function(a){function b(a){this.element=document.getElementById(a),this.handleEvent=function(b){switch(console.log(a),b.type){case"click":MOWGLI.alert("Not implemented. Sorry for the inconvenience")}},this.element.addEventListener("click",this,!1)}a.SaveAs=b}(this.mwGUI=this.mwGUI||{});